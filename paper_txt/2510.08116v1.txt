Contrast-enhanced Computed Tomography (CT) is important for diagnosis and treatment planning for various med- ical conditions. Deep learning (DL) based segmentation models may enable automated medical image analysis for detecting and delineating tumors in CT images, thereby reducing clinicians’ workload. Achieving generalization capabilities in limited data domains, such as radiology, requires modern DL models to be trained with image augmentation. However, naively applying augmentation methods developed for natural images to CT scans often disregards the nature of the CT modality, where the intensities measure Hounsfield Units (HU) and have important physical meaning. This paper challenges the use of such intensity augmentations for CT imaging and shows that they may lead to artifacts and poor generalization. To mitigate this, we propose a CT-specific augmentation technique, called Random windowing, that exploits the available HU distribution of intensities in CT images. Random windowing encourages robustness to contrast- enhancement and significantly increases model performance on challenging images with poor contrast or timing. We perform ablations and analysis of our method on multiple datasets, and compare to, and outperform, state-of-the-art alternatives, while focusing on the challenge of liver tumor segmentation. ar Xiv:2510.08116v1 [cs.CV] 9 Oct 2025 Index Terms—Augmentation, Computed Tomography, Deep Learning, Robustness, Segmentation I. INTRODUCTION Computed Tomography (CT) is a cornerstone in the diag- nosis and treatment planning of various health conditions . In liver applications, contrast-enhanced CT imaging enables precise imaging for detection and delineation of tumors, facil- itating effective intervention strategies. With the rapid advancement of Deep Learning (DL), the utilization of computer vision (CV) models has become in- creasingly prevalent for automating tasks in radiology –. With novel techniques and improved accuracy of recent DL based segmentation models, the potential for impactful clinical applications emerges. Limited data has been a longstanding challenge in DL and liver tumor applications , and techniques such as image augmentation have proven to be indispensable in enhancing the generalization capabilities of A. Contributions We summarize the main contributions of this paper: • We introduce Random windowing, a CT-specific aug- mentation scheme that encourages robustness and can be targeted to specific regions. • We thoroughly analyze and ablate the effects of Random windowing, its components, and alternatives on contrast- enhanced CT images for liver tumor segmentation. Submitted October 2025. This work was supported by the Research Council of Norway [grants 309439, 315029, 303514], the Pioneer Centre for AI, DNRF [grant P1], and Sigma2 with compute [grant NN8106K]. E. A. Østmo, K. K. Wickstrøm, M. C. Kampffmeyer, K.Ø. Mikalsen, and R. Jenssen are with the Ui T Machine Learning Group, Tromsø, Nor- way (e-mail: {eirik.a.ostmo, kristoffer.k.wickstrom, michael.c.kampffmeyer, karl.o.mikalsen, robert.jenssen}@uit.no). K. Radiya and K. Ø. Mikalsen are with the University Hospital of North Norway, Tromsø, Norway (e-mail: keyur.radiya@unn.no). M. C. Kampffmeyer and R. Jenssen are also with the Norwegian Computing Centre, Oslo, Norway, and R. Jenssen is also with Pioneer Centre for AI, Copenhagen, Denmark. • Random windowing is compared to state-of-the-art al- ternatives and is found to yield models with stronger performance on challenging CT images that suffer from poor intravenous contrast or poor contrast timing. B. Outline In Section II, we present related work that our methods complement and build upon. Section III introduces Random 2 phase (20–30 s) showing liver arteries and the portal venous phase (50–70 s) enhancing liver parenchyma by ≥50 HU . Due to the sensitive timing of contrast-enhancement, the variation in ROI appearance and HU of the same phase can be great across patients and scans. DL-based CT applications often rely on image augmentation to learn robustness to these variations. Preprocessed Artifact free: Additional context: Intensity augmentation (standard) Windowing B. Augmenting CT images Artifact free: Additional context: Data augmentation involves applying various transforma- tions to existing training data to create slightly altered in- stances of the data, which enrich the dataset to enhance the model’s robustness and generalization . For medical images, two main types of augmentations are especially relevant: geometric augmentations and intensity augmentations. Geometric augmentations preserve the pixel intensities by only altering the spatial appearance using geometric trans- formations like rotation, flipping, translation, resizing, and cropping. Intensity augmentations transform the pixel values of the image without changing the spatial aspects of the image. Certain augmentations, such as saturation and hue transformation, operate in the RGB space of natural images and require three color channels, making them unsuitable for CT images, which have HU in only one channel (grayscale). Intensity augmentations like contrast, brightness, and gamma corrections, however, can be applied to CT intensity values to change the visual appearance of the image. Geometric augmentations are commonly used in DL ap- plications for CT images as well as in liver and tumor applications . Applying geometric augmentations like flip, rotation, translation, crop and resize, for CT can accommodate for lack in variation of orientation, shape, and sizes of tumors and other anatomical structures. Patch-based training inher- ently provides translation variability by exposing the model to structures at different spatial positions, while also enabling computational memory benefits . Intensity augmentations for DL in CT applications are not always required for good performance, as many well- performing methods manage fine without them , , . However, many top-performing methods leverage some forms of intensity augmentations , – to increase variability in limited data domains. The most popular intensity augmentations are intensity shifting and scaling methods, closely connected to contrast and brightness augmentations for natural images. Random windowing (proposed) Raw CT (inputs) Intensity based HU based Fig. 1: Standard intensity augmentation of CT images often operates on the clipped intensities of the image. This limits the augmentation potential and available context and may create artifacts in the image, like unnatural values for background, bone, or air pockets. We propose Random window augmen- tations for CT that operate on the raw HU using the viewing window, which resolves the aforementioned challenges. windowing, with its effects analyzed in Section IV. Results and ablations that validate our method are presented in Section V, followed by discussion and a future outlook in Section VI. II. RELATED WORK A. Preprocessing of CT images In a CT image, the measured volumetric linear attenuation μ of scattered X-rays are calibrated against the attenuation of water μwater and air μair, resulting in intensity units measured in Hounsfield units (HU) given by HU = 1000 · μ −μwater μair −μwater . (1) Before CT images are visualized, they are often preprocessed to a viewing window, by clipping the intensities to a given range, resulting in increased contrast of the region of interest (ROI). Although DL models can take unprocessed HU as inputs , they often benefit from clipping the intensity values to a narrower range , , . The benefit comes from increased relative HU differences within the ROI at the cost of removing certain intensities assumed to be irrelevant. For CT in general, and liver tumor segmentation specifi- cally, there is much variation in the chosen clipping range, which may suggest that a suboptimal window is common . The clipping boundaries in DL applications are often determined from radiology domain knowledge , computed from intensity statistics of the dataset , or determined dynamically during training . In our experiments, we show that choosing a narrow, task-specific clipping range is beneficial for segmentation performance. In contrast-enhanced CT, contrast injected into an upper extremity vein highlights abdominal tissues, with the arterial C. Questionable augmentation practices Shifting and scaling raw CT intensity values is not problem- atic in a DL setting, but could simulate variations in measure- ments that could naturally occur across scans, protocols, and patients. We argue that the problem arises when such intensity augmentations are applied to clipped intensity values. When HU are clipped to a viewing window, relevant for the application, the information outside the viewing window is removed and is not possible to recover. Subsequent scaling and shifting during brightness and contrast transformations will risk introducing artifacts, in the form of empty values, near the Int. scale Gamma Inv. gamma Int. shift W. shift (ours) W. scale (ours) Fig. 2: On certain contrast-enhanced CT images, standard preprocessing removes important information about liver and tumor intensities. Standard image transformation applied to such preprocessed images fails to reintroduce useful variation into the image. Our proposed windowing augmentations are applied before any preprocessing and have the potential to yield better visualizations of such difficult images. edges of the interval, instead of simulating natural variation (Figure 2). While we acknowledge that many CT applications might already apply intensity augmentations with care, we consider the importance of this to be understated. The nn U-Net augmentation pipeline leverages a combination of brightness, contrast, and gamma augmentation from Batchgenerators , and has been reused in multiple CT applications , , . The Unetr and Swin-Unetr apply intensity shifting and scaling from the MONAI framework . These top-performing segmentation frameworks all apply intensity augmentation after HU clipping, which we find concerning. Although these augmentations seemingly increase perfor- mance, we hypothesize that augmentation strategies that are tailored towards CT and treat the HU distribution of CT with care are more advantageous. also been explored in segmentation and self-supervised learning . While these methods avoid artifacts, they do not provide the continuous properties comparable to traditional augmentation techniques. They also do not address the issue of patient, contrast, or timing variations introduced by the contrast- enhancement in diagnostic CT scans. We propose to continuously vary the viewing window used for preprocessing by sampling the window width and level randomly. The augmentation strength can be tailored for the relevant task by controlling the allowed range of viewing windows. Our method, entitled Random windowing, creates training images that can simulate difficult cases and make difficult cases easier for the model, resulting in increased robustness. Contrary to traditional intensity augmentations applied to preprocessed HU values, our method does not introduce artifacts from shifting and scaling pre-clipped HU. We show that our proposed approach for CT augmentation improves robustness and generalization across multiple archi- tectures and datasets, and for liver tumor segmentation in both the 2D and 3D settings. Additionally, we show that some of the traditional augmentation schemes, not respecting the unit of intensity in the CT modality, in fact can hurt performance in certain settings. D. CT-specific augmentations CT-specific intensity augmentations have in common that they leverage the HU distribution more cautiously. Cluster- wise voxel intensity range shift applies additional pre- defined region-specific or manufacturer-specific viewing win- dows after initial windowing to further focus the model on specific parts of the CT distribution. Similar strategies that sample between predefined and task-specific viewing windows have been proposed independently as augmentation strategy or as a training technique multiple times since: generated samples from three predefined viewing windows and used them to train a COVID classifier from lung CT images. Similarly, used images preprocessed with four predefined viewing windows as augmentation for liver vessel segmen- tation, and found it to be favorable over geometric transfor- mation such as flipping and mirroring. investigated the effect of using various predefined viewing windows in training and inference in liver lesion segmentation and found that window selection is important for segmentation performance. Tangential to augmentation, works exploiting multiple inputs with images of different viewing windows during training have III. METHODOLOGY: WINDOW AUGMENTATIONS FOR CT IMAGES In this section, we introduce our new CT augmentation tech- nique, Random windowing, as well as the core components of the technique. Specifically, the windowing operation used for preprocessing, Window shifting, and Window scaling. These operations together make up our CT augmentation method, Random windowing. A. Windowing operation Windowing is a preprocessing scheme for CT images and is an essential step performed by radiologists upon CT inspection and in CT DL applications. It removes irrelevant information by limiting the range of HU to display. the values to a minimum and maximum value. The viewing window is defined by the window width W and the window level L. The width W determines how much of the HU range to include, and the level L is the center of the range. For each application or task, a base viewing window, comprising a base width Wbase and base level Lbase, is typically selected to optimize visualization. The included HU intensities x are then given by: The included HU intensities x in the preprocessed image are given by effect. Specifically, the CT images are clipped with a randomly sampled width W, from a uniform distribution W ∼Uniform(Wmin, Wmax), (4) where Wmin and Wmax are the minimum and maximum widths for the augmentation strength. We sample W from a range around the base width. Hence, Wmin ≤Wbase ≤Wmax. This allows the Window scaling to yield continuous variations around the base width. This makes it natural to use the base window during inference. The resulting augmentation effect is, in some settings, similar to standard intensity scaling and contrast enhancement. However, as the augmentation happens before clipping, similar to Window shifting, the output is not limited by the initial preprocessing setting, which may cause artifacts. x ∈[L −W 2 , L + W 2 ]. (2) After windowing, the range of intensity values to display is smaller, and thus fewer values are mapped to each grayscale level in the display. The contrast of the image is therefore increased, so details are more prominent to both radiologists and DL models (Figure 1 ”Windowing”). For liver tumor segmentation, we find, in Section V-D, that a narrow tumor- specific window is beneficial for performance. D. Random windowing Window shifting and Window scaling both work on inde- pendent parameters of the viewing window, allowing them to be combined without overhead. We refer to the combined transformation of Window shifting and scaling as Random windowing, due to the randomness introduced in the selection of both window level and width. The computational cost is negligible as it is performed in place of standard windowing. Following common augmentation practices, we sample L and W independently, with probability p L and p W , from uniform distributions, but acknowledge the potential for more data driven approaches. Our preliminary exploration in this direction did not lead to significant improvements, but we encourage further investigation in future work. We present the combined preprocessing and augmentation technique of Random windowing, using both Window shifting and Window scaling, in Algorithm 12. B. Window shifting When a narrow viewing window is selected, the CT im- ages are more affected by varying contrast-enhancement from timing of the IV contrast and the patient’s response to it. To mitigate this problem, Window shifting1 adjusts which parts of the image distribution are visualized during training, and thus introduces useful variation into the training of DL models. Window shifting stochastically adjusts the window level L during preprocessing of training images, resulting in an aug- mentation effect after clipping. This is achieved by sampling a new window level, L from a uniform distribution defined by Lmin and Lmax Algorithm 1 Random windowing algorithm x ←ct image ▷In Hounsfield units W ←base width L ←base level if uniform(0, 1) < p W then L ∼Uniform(Lmin, Lmax). (3) The boundaries of Window shifting, Lmin and Lmax, can be set as hyperparameters or be determined from the distribution of foreground intensities in the CT dataset, tailored to the task at hand . W ←uniform(W min, W max) ▷Window scaling end if if uniform(0, 1) < p L then L ←uniform(L min, L max) ▷Window shifting end if lower ←L −W/2 upper ←L + W/2 x ←clip(x, lower, upper) ▷Windowing x ←(x −lower)/W ▷Normalize to zero-one C. Window scaling Window shifting exploits the variation of HU shifts from contrast-enhancement in the dataset to augment the images. However, it does not account for uneven distribution of con- trast agent within a foreground region, which may result in a tight or wide spread of HU for an image. To account for this, and exploit the effect during training, we introduce Window scaling. Window scaling scales the window width before clipping to vary how much of the image distribu- tion is included during training, resulting in an augmentation IV. ANALYSIS OF RANDOM WINDOWING The following sections explore how Random windowing improves and intentionally distorts images, avoids augmen- tation artifacts, and creates realistic yet challenging training samples. We also examine its impact on HU measurements and intensity distributions, highlighting its role in enhancing model performance and generalization. 1Window shifting was first introduced in the conference version of this paper . In this work, we extend the original study by introducing Window scaling and Random windowing, and by substantially expanding the analysis with additional experiments, ablations, metrics, and datasets. 2Code at https://github.com/agnalt/random-windowing. 5 A. Image correction get strong clues from specific values. In the following para- graphs, we analyze the effect of Random windowing on the HU measurements and distribution of a CT scan. 1) Adjusted Hounsfield units: For the CT modality, a uni- fied global preprocessing scheme is beneficial during training to preserve information in the HU pixel measurements . However, during augmentation, the HU are deliberately dis- torted to simulate useful variation and prevent overfitting. Standard intensity augmentations do this by default on the input, while Random windowing obtains a similar effect through min-max normalization after clipping. Doing this resets the intensities to the zero-one range, ensuring that the HU are stochastically adjusted by the randomly sampled window width and level. In Section V-C, we verify that this step is key when working with tumor segmentation in contrast-enhanced CT images. However, skipping this step will allow Random windowing to preserve the absolute HU measurement in the scan while augmenting the image through added or removed context of the pixel distribution. In applications for CT without IV contrast, this might be beneficial as the original HU is intact. 2) Additional context and characteristic distribution: Re- gardless of whether HU are preserved or not, Random win- dowing can stochastically provide additional context compared to the clipped image view. Intensity augmentations are shown to be effective for certain DL applications as they prevent models from picking up on the characteristic distribution of the inputs . When linear augmentation transformations, like intensity shifting or scaling, are applied to the clipped intensity distribution, the absolute intensities are altered, but the relative shape of the distribution remains largely unchanged (Figure 4). Although Random windowing is parameterized by linear transformations in HU space, its effect on the final distribution can be non-linear. This is because the transformation of the window may expand the distribution by incorporating addi- tional HU values, thereby reshaping the distribution rather than simply shifting or scaling it. This effect is further investigated in Section V-C. In the special case where Window scaling is performed with W ∼Uniform(Wmin, Wbase) no additional context is included, and its effect is comparable to contrast augmentation with a scaling factor α ∈(1, Wbase Although CT scans are obtained with similar protocols, vari- ations due to contrast-enhancement are expected. In Figure 3a, ”Windowed” and ”Normal ref.” display how the same clipping setting can result in different liver brightness in CT images due to contrast-enhancement. As Random windowing introduces variation to the CT clipping during training, it enables scans to be visualized in multiple ways, which can result in better visualizations. In- tensity augmentations that transform clipped HU distributions will struggle to create the same variation. In Figure 3a, we aim to remedy the poorly timed contrast- enhancement using standard intensity augmentations and Ran- dom windowing. Standard augmentations cannot correct the loss of detail in the image, while the Random windowing settings yield a much better result. Additionally, standard intensity augmentations transform all values equally, and the background and bone structures, like the spine, outside the soft tissue range, are artificially darkened/brightened and can be considered artifacts in the final image. B. Image distortion An important task of data augmentation is to expose the model to images that resemble challenging training cases, so it can learn to generalize to difficult cases. Similar to how Ran- dom windowing can yield better visualizations of challenging images (Section IV-A), it can make normal training images look like the challenging ones, without introducing artifacts. In Figure 3b, a CT slice where the liver has a normal response to contrast-enhancement is augmented to produce a training sample that resembles dark and bright training cases from the dataset. Standard intensity augmentations may fail to make realistic augmented images as they are prone to introducing artifacts in the background and bone structures. C. Avoiding artifacts Artifacts from intensity augmentations in CT images occur when the pixel distribution is transformed after clipping. Par- ticularly prone to causing such artifacts are intensity augmen- tations such as contrast augmentation, intensity scaling (i.e., brightness), and intensity shifting (i.e., additive brightness). Artifacts occur when the edges of the intensity distribution are transformed such that they end up inside the original interval of x (Equation 2). In other words, the transformation t moves xmin or xmax so Wmin ) followed by clipping to the original range. V. RESULTS In this section, we empirically validate the effects of Random windowing in controlled experiments against tradi- tional intensity-based augmentations from established base- lines. Subsequently, we scrutinize the mechanisms at play in window augmentations and analyze the effect of base windows, augmentation components, and strengths. t(xmin) > xmin or t(xmax) < xmax. (5) As Random windowing performs augmentation through the window operation itself, it solves the problem of artifacts in Equation 5. A. Stronger intensity augmentation pipeline D. Effect on HU measurements and intensity distribution We compare the proposed Random windowing augmen- tation against the intensity augmentation pipelines of two strong baselines, namely the nn U-Net and the Unetr . The intensity augmentations of the nn U-Net consist of contrast, multiplicative brightness, gamma, and inverse Until this point, the effect of Random windowing is mainly considered from an image perspective, where the pixel inten- sities are visualized as viewed by an observer. However, DL models process pixel values of the input and can, in principle, Int. corrected RW corrected Normal ref. Windowed Int. augmented RW augmented Hard ref. Darken Brighten Dark Bright (a) Improving visualization of difficult scans. (b) Simulating scans with non-standard contrast-enhancement. Fig. 3: Comparison of Random windowing and intensity augmentations. Random windowing samples beyond default window boundaries, improving visualizations during training, and recovering information lost with standard augmentations. It also produces realistic, challenging samples without the artifacts introduced by standard intensity transformations. Raw image Windowed Intensity shifting Intensity scaling Window shifting (ours) Window scaling (ours) liver tumor other Fig. 4: Augmentation effect on intensity distribution. Augmentation through intensity shifting and scaling affects the appearance of the image, but not the distribution shape. Shifting and scaling the viewing window can include more data near the edges of the base viewing window, so the shape of the distribution changes more. gamma augmentations applied in sequence on clipped and centered intensities. The Unetr applies intensity shifting and scaling of the clipped and zero-one-normalized intensities. We apply Random windowing with Window shifting and scaling independently on the raw CT intensities. In subsequent experiments, we standardize augmentation probabilities and strengths, but resort to recommended settings for each baseline here. Details in Appendix A. Each augmentation pipeline is used for training identical 3D-U-net segmentation models to perform liver tumor segmentation with 4-fold cross-validation on the Liver tumor segmentation (Li TS) dataset . For robust evaluation, we consider the entire Hepatic Vessel (HV) dataset (303 cases), Colorectal Liver Metastases (CRLM) dataset (197 cases), and HCC-TACE dataset (104 cases) as disjoint test sets for liver tumor segmentation. With regards to tu- mor characteristics, HV and CRLM are more similar to the Li TS traning set than HCC-TACE. HCC-TACE comprises only patients with Hepatocellular carcinoma (HCC), where tumors show heterogeneous appearance due to variable tumor attenuation and portal venous washout. Due to the limited support in Li TS for HCC, HCC-TACE is especially difficult and in some degree out of domain. For each prediction, we report the Dice similarity coefficient (DSC) measured with the original tumor mask, and report the mean performance in Table I with the top performing method highlighted in bold. We measure the significance of the results with the Wilcoxon signed rank test at p < 0.05. The results show that Random windowing leads to a statistically significant higher performance across all datasets. B. Generalization to difficult tumor cases For an extended analysis of the augmentation pipeline re- sults, we also measure the performance on what are considered difficult cases. The difficult cases are identified by as images with low contrast between tumor and liver regions with mean tissue difference < 20 HU (HU contrast), in total 171, 42, and 68 cases for HV, CRLM, and HCC-TACE, respectively. Additionally, we identify that scans where the contrast-enhancement is poorly timed are difficult. Poor IV contrast timing can be identified by particularly high or low HU in the liver. By visual inspection, we consider the top and bottom 10 % of scans with the highest and lowest median liver HU to be difficult, corresponding to HU < 89 and HU > 137, respectively (CE timing), in total 64, 39, and 16 cases for HV, CRLM, and HCC-TACE, respectively. In Table I we report the mean DSC on these cases specifically, and find that models trained with Random windowing perform significantly better also on these subsets (p < 0.05). To highlight the benefit of augmentation, we plot the relative improvement of DSC compared to not applying any intensity augmentations for the HV and CRLM datasets in 7 TABLE I: The mean DSC of the HV, CRLM, and HCC-TACE test sets. Random windowing significantly outperforms the intensity augmentation pipelines of the nn U-Net and Unetr. These results are consistent across whole datasets, as well as the difficult cases with low liver-tumor HU contrast and poor CE timing. (∗) denotes significance at p < 0.05. Hepatic Vessel CRLM HCC-TACE Intensity augmentation All HU contrast CE timing All HU contrast CE timing All HU contrast CE timing None 0.507 ± 0.019 0.419 ± 0.027 0.365 ± 0.033 0.600 ± 0.006 0.449 ± 0.008 0.501 ± 0.006 0.305 ± 0.027 0.255 ± 0.023 0.144 ± 0.043 Unetr (baseline) 0.527 ± 0.009 0.451 ± 0.010 0.395 ± 0.024 0.588 ± 0.021 0.438 ± 0.006 0.496 ± 0.031 0.329 ± 0.059 0.280 ± 0.060 0.196 ± 0.086 nn U-Net (baseline) 0.544 ± 0.026 0.476 ± 0.039 0.431 ± 0.028 0.606 ± 0.007 0.448 ± 0.014 0.528 ± 0.014 0.373 ± 0.070 0.313 ± 0.086 0.303 ± 0.071 Random windowing (ours) 0.566 ± 0.015∗ 0.499 ± 0.017∗ 0.450 ± 0.035∗ 0.617 ± 0.003∗ 0.471 ± 0.005∗ 0.546 ± 0.023∗ 0.393 ± 0.049∗ 0.338 ± 0.054∗ 0.333 ± 0.046∗ TABLE II: Ablation of augmentation mechanisms in Random windowing. The experiment displays the additional benefit of adjusting Hounsfield units (Adj. HU) and providing additional data context (Add. cont.) during training augmentations. All other variables are unchanged. ∗indicates that the result is significantly larger than the next best alternative at p < 0.05. Effect of augmentation in tumor segmentation DSC [%] 20 0 Adj. Add. Aug- Instance-metrics HU cont. mented Tumor DSC F1 Recall Precision CRLM × × × 0.507 ± 0.019 0.592 ± 0.019 0.735 ± 0.032 0.624 ± 0.011∗ RW shift-scale × ✓ ✓ 0.527 ± 0.008∗ 0.582 ± 0.018 0.756 ± 0.011 0.586 ± 0.029 Int. shift-scale ✓ × ✓ 0.542 ± 0.024∗ 0.576 ± 0.025 0.778 ± 0.024 0.559 ± 0.031 Random window ✓ ✓ ✓ 0.565 ± 0.017∗ 0.604 ± 0.018 0.785 ± 0.019 0.597 ± 0.034 DSC [%] 0 Adj. HU × Adj. HU Add. context × Normal Poor contrast Poor timing Window Int. ss. Fig. 5: Relative DSC improvement by augmentation schemes measured for scans with normal contrast-enhancement, poor liver-tumor contrast, and poor contrast timing. The improve- ment is over not applying any intensity augmentations mea- sured on the Hepatic Vessel and CRLM dataset. 0 100 200 0.5 1.0 RW. ss. RW Add. context Random windowing gives a larger improvement across all settings and is especially beneficial for difficult tumor cases, where the HU contrast is low or the timing is off. For HCC- TACE, we observe that augmentation and Random windowing are key due to the very limited support for HCC in the training set. Interestingly, Random windowing also benefits the normal cases across all datasets, more than the baseline alternatives. We hypothesize that this is due to its potential to use difficult cases to simulate normal cases as described in Section IV-A. 100 0 100 0.0 0.5 1.0 Fig. 6: Illustration of the experiment settings used in the ablation of Table II. In each row, the overall shape of the distribution and the included HU values are the same. In each column, the HU are either preserved or not (scaled to ). C. Augmentation through context and HU adjustment Figure 6 illustrates the effects we are ablating with the distribution of one example scan. The initial row shows the distribution before and after augmentation when windowing is performed during preprocessing. In the second row, we augment the image while allowing additional context. For all settings, transformations are applied with p = 0.5 and equal strengths on the z-score normalized to mean of 0 and standard deviation of 1 using the global dataset statistics. On the external test set, we measure the tumor DSC and the instance-wise lesion F1, recall, and precision, after a connected component analysis where > 10% pixel overlap counts as a detected lesion. We present the results in Table II. We observe that adjusting the HU has a larger impact than additional context, while both contribute constructively in Ran- dom windowing. We hypothesize that HU perturbations are important to guide the models away from HU reliance alone, Compared to augmentation on clipped intensities, window augmentations can produce training samples with additional context from the raw data. By context, we specifically refer to the parts of the CT intensity distribution that are near and outside the edges of the interval of the base window. Although Random windowing does not preserve absolute HU by default, we hypothesize that context variation alone opens a new opportunity to augment CT intensities while preserving the HU of the image. We refer to this setting as Random windowing shift-scale (RW ss.), and is, to the best of our knowledge also novel and unexplored in CT augmentation. To investigate this further, we ablate the effect of augmen- tation through additional context, as well as HU adjustments in Random windowing. HU adjustments are achieved through normalization (e.g., to ) of the clipped and transformed in- tensities, and is common in standard intensity augmentations. TABLE III: Ablation study on the Li TS dataset reporting 2D validation tumor DSC (3 × repeated 4-fold CV). We observe that narrow, region-specific viewing windows improve tumor segmentation, and Window shifting further enhances performance, especially with focused windows. 0.60 Tumor DSC 0.55 Viewing window Width Level Baseline Window shifting None (raw) 2000 0 0.552 ± 0.081 0.580 ± 0.099 Generic (abdomen) 500 150 0.628 ± 0.078 0.636 ± 0.080 Liver window 196 91 0.629 ± 0.091 0.637 ± 0.079 Tumor window 169 65 0.634 ± 0.081 0.648 ± 0.084 W. shift W. scale 0.50 0 20 40 60 80 as it increases tumor sensitivity. Meanwhile, augmentation in general decreases tumor precision, due to more false positives. These results shed light on the mechanisms at play in Random windowing, while proving that the HU-preserving version of Random windowing is beneficial alone, and perhaps the only option in certain settings. We leave further exploration in this direction to future work. Fig. 7: Window shifting and scaling improve tumor DSC at various strengths, with peaks at L ± 60 and W ± 80 HU. L range W range 100 Level [HU] D. Importance of base viewing window ences between liver tumors and surrounding parenchyma, but at the cost of reduced distribution context. The liver-tumor HU differences are emphasized by the HU shift of contrast- enhancement, which is exploited by Window shifting. We hypothesize that using a region-specific narrow base window improves tumor segmentation by emphasizing the relevant HU differences. Furthermore, we expect Window shifting to benefit most when used with such focused windows. To test this, we measure the impact of tumor and liver windows, covering 99 % of foregrounds, as well as a window of raw HU and one characteristic of the general abdomen. We measure the impact of each window and its interaction with Window shifting in all settings. We report the window settings and tumor segmentation DSC in table Table III and observe that both the baseline (static windowing) and Window shifting increase performance with narrower, more region-specific base windows. The per- formance gain is greatest when going from raw HU to a more focused window, even if only a generic soft tissue window. From Table III, we observe that regardless of the base viewing window, Window shifting augmentation is advanta- geous. The results suggest that a sufficiently narrow window benefits Window shifting, and that the generic, liver, and tumor windows all are significantly better for Window shifting than the raw window, with p < 0.05 using Wilcoxon’s signed rank test between folds. 0 100 150 200 250 Width [HU] Fig. 8: Per-case estimate of viewing windows, covering 99 % of tumor HU, in the Li TS train set and base window (▲). {L, W} range show best shift/scale ranges from 9 and gamma adjustment of inverse intensity values (gamma in- verse). These augmentation methods are compared against the individual components of Random windowing augmentation, namely, Window shifting and Window scaling. All individual intensity augmentations are applied with the same probability. The mean liver tumor DSC and standard deviations of 3 times repeated 4-fold cross validation are reported in Ta- ble IV. The results show that the individual components of our method are indeed potent and surpass their intensity-based counterparts. Interestingly, applying no intensity augmenta- tions (geometric only) outperforms individual intensity-based CT augmentations in certain settings, suggesting that some intensity augmentations may hurt performance. architectures, and metrics. We attribute its generalization ca- pabilities to the additional contextual information preserved from raw CT data, combined with HU adjustments that simulate natural variations in contrast-enhancement, allowing our method to utilize limited data efficiently. Overall, Random windowing emerges as a powerful aug- mentation strategy for CT images, offering significant gains in segmentation performance under difficult imaging conditions. Future work could explore its extension to new applications, organs, and modalities, as well as its potential role in improv- ing model robustness in clinical scenarios.